---
layout:     post
title:      Django基础（三）
subtitle:   今天是在前面models.py建立基础数据模型的基础上，补充一些Model相关的知识。
date:       2019-12-19
author:     HouKC
header-img: img/post-bg-coffee.jpeg
catalog:    true
tags:
    - Django
    - Python
    - 后端
    - 笔记
---

## Model简介
Model是Django表示数据的模式，我们可以在models.py中设置数据项、数据格式等，一个数据类对应数据库的一个数据表。
数据表之间的关联也要在数据类中定义好。完成定义，Django不需要我们编写SQL指令，在一些程序的控制下它就会自动生成
SQL语句并执行了。事实上我们只要配置好数据库即可，什么数据库不重要。

## models.py创建类
```python
from django.db import models
from django.utils import timezone

class Post(models.Model):
    title = models.CharField('标题', max_length=200, unique=True)
    slug = models.SlugField('slug', max_length=60, blank=True)
    body = models.TextField('正文')
    published_time = models.DateTimeField('发表时间', default=timezone.now, null=True)
```
导入models类库和timezone时区时间库，定义模型类Post，它是继承自models.Model通用模型类的。
接下来在类中定义字段fields：
- title：博客的标题用models.CharField字段，命名‘标题’，最大字符数200，unique表示独特的，不能重复。
- slug：博客的简短标志用models.SlugField字段，命名‘slug’，最大字符数60，blank表示可以为空白。
- body：博客的正文用models.TextField字段，命名‘正文’。
- published_time：博客的发表时间用models.DateTimeField字段，命名‘发表时间’，默认值为当前时间，null表示允许值为空。

## models常用数据字段格式说明
字段格式|参数|说明
BooleanField||布尔值，True/False
CharField|max_length：最大字符串长度|存储较短数据的字符串，通常使用单行的文字数据
DateField|auto_now：每次对象被存储时就自动加入当前日期<br/>auto_now_add：只有在对象被创建时才加入当前日期|日期格式，可用于datetime.date
