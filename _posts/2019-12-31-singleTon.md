---
layout:     post
title:      设计模式（一）单例模式
subtitle:   根据《Python设计模式（第2版）》一书的学习，记录下来的笔记。本篇博客是单例模式，是一种应用开发过程中最简单的一种创建型设计模式。
date:       2019-12-31
author:     HouKC
header-img: img/post-bg-coffee.jpeg
catalog:    true
tags:
    - 设计模式
    - Python
    - 笔记
---

## 前言
设计模式这一系列是我在看书籍《Python设计模式（第2版）》的读书笔记，记录一些重要的、关键的知识
点，主要内容都是出自书中。

为了防止以后想起来的时候忘记实现细节，或者一些关键的编程，我会尽量把笔记做好，也按照书的流程进
行梳理。

接下来简单介绍一下设计模式的内容。

## 1. 设计模式简介
#### 1.1 设计模式分三类
- 创建型设计模式
- 结构型设计模式
- 行为型设计模式
#### 1.2 面向对象编程特性
1. 封装性
    - 对象的行为对于外部世界来说是不可见的，也就是**对象的状态是私密的**
    - **客户端不能直接操作改变对象**内部状态，但是可以发送消息请求对象改变内部状态，比如一些成员函数
    - python没有封装的关键字private、public或者protected等，但可以**在变量或函数前加__ 来变成私有**
2. 多态性
    - 对象**根据输入参数提供方法的不同实现**
    - **不同类型的对象可以使用相同的接口**
    - python中，**多态是该语言的内置功能**，比如+号，可以整数相加，也可以字符串连接
3. 继承性
    - **一个类可以继承父类的（大部分）功能**
    - 继承被描述为一个**重用基类中定义的功能**，并**允许**对原始软件的实现进行独立**扩展**的选项
    - 继承可以利用不同类的对象之间的关系建立层次结构，或者说**可以继承多个基类**
4. 抽象性
    - 提供了一个简单的客户端接口，可以**通过该接口与类的对象进行交互**，并**可以调用该接口中定义的各个方法**
    - 内部类的复杂性**抽象为一个接口**，这样**客户端就不需要知道内部实现**了
5. 组合性
    - **一个对象可用于调用其他模块中的成员函数**，这样一来，无需通过继承就可以实现基本功能的跨模块使用

贴段代码理解一下这句话：
```python
class A(object):
    def a1(self):
        print("a1")
class B(object):
    def b(self):
        print("b")
        A().a1()        # 注意这一行调用了A类中的函数，就是一种组合
objectB = B()
objectB.b()
```
#### 1.3 面向对象的设计原则
1. 开放/封闭原则
    
    **开放**类或对象及其方法的**扩展**，但是**封闭**对其**修改**。
    
    也就是说，类和方法在编写的时候要考虑通用性，甚至可以写一些抽象基类，通过继承来扩展功能。

2. 控制反转原则

    高层级的模块不应该依赖于低层级的模块，**两个层级的模块应该都依赖于抽象**。
    
    **细节依赖抽象**，抽象不应该依赖细节。
    
    消除模块之间的紧耦合，**尽量让每个模块独立**，模块之间可以用抽象层来解决依赖关系（如钩子）。
    模块的细节是基于通用的抽象类扩展的，而不是把细节直接写在抽象类中。

3. 接口隔离原则

    客户端不应该依赖于它们不需要使用的接口。
    
    换言之，其实就是**不该属于该类的方法**，我们就**没必要写**，尽量精简。
    
    如Pizza接口不应该提供名为add_chicken()方法，因为基于Pizza接口的Veg Pizza类（蔬菜披萨）不应该强制实现该方法。

4. 单一职责原则
5. 替换原则
## 后记
待完成。